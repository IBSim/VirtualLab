#################################################################
# This file allows for configuration of all the containers 
# used by VirtualLab. The outer keys are the module names 
# and the inner keys are parameters.
#
# Note the following keys are required to define a module:
#
# Docker_url: The name of the image on DockerHub
# Tag: The image tag
# Apptainer_file: Path to the sif file used for Apptainer 
# Run_script: Path to script to run at startup
#
# Note: All paths are relative to the container not the host.
#################################################################
---
Manager:
      Docker_url: 'localhost:5000/manager' 
      Tag: 'latest' 
      Apptainer_file: 'Containers/VL_Manager.sif'
      Run_script: '/home/ibsim/VirtualLab/bin/VL_Manager'
      Namespace: None
      Method: None
 
Cad2Vox:
      Docker_url: 'ibsim/cad2vox'
      Tag: 'latest'
      Apptainer_file: 'Containers/VL_Vox.sif'
      Run_script: '/home/ibsim/VirtualLab/bin/VL_Vox.sh'
      Namespace: 'Vox'
      Method: 'Voxelise'    

GVXR: 
      Docker_url: 'ibsim/gvxr'
      Tag: 'latest'
      Apptainer_file: 'Containers/VL_GVXR.sif'
      Run_script: '/home/ibsim/VirtualLab/bin/VL_GVXR.sh'
      Namespace: 'GVXR'
      Method: 'CT_Scan'    

CIL: 
      Docker_url: 'ibsim/cil'
      Tag: 'latest'
      Apptainer_file: 'Containers/VL_CIL.sif'
      Run_script: '/home/ibsim/VirtualLab/bin/VL_CIL.sh'
      Namespace: 'GVXR'
      Method: 'CT_Recon'

Salome: 
      Docker_url: 'localhost:5000/salome'
      Tag: 'latest'
      Apptainer_file: 'Containers/VL_Salome.sif'
      Run_script: '/home/ibsim/VirtualLab/bin/VL_Salome.sh'
      Namespace: 'Mesh'
      Method: 'Mesh'

DA: 
      Docker_url: 'localhost:5000/salome'
      Tag: 'latest'
      Apptainer_file: 'Containers/VL_Aster.sif'
      Run_script: '/home/ibsim/VirtualLab/bin/VL_DA.sh'

Aster:
      Docker_url: 'localhost:5000/aster'
      Tag: 'latest'
      #Apptainer_file: 'Containers/VL_Aster.sif'
      Apptainer_file: 'Containers/my_sbox'
      Run_script: '/home/ibsim/VirtualLab/bin/VL_Aster.sh'
      Namespace: 'Sim'
      Method: 'Sim'

Test_Comms: 
      Docker_url: 'localhost:5000/test'
      Tag: 'latest'
      Apptainer_file: 'Containers/VL_Test.sif'
      Run_script: '/home/ibsim/VirtualLab/bin/VL_Test.sh'
      Namespace: 'Test'
      Method: 'Test_Coms'

# Note: Not yet included on dockerhub but here in prep
Aster_mpi: 
      Docker_url: 'ibsim/aster_mpi'
      Tag: 'latest'
      Apptainer_file: 'Containers/VL_Aster_mpi.sif'
      Run_script: '/home/ibsim/VirtualLab/bin/VL_Aster_mpi.sh'
